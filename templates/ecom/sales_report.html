{% extends 'ecom/admin_base.html' %}
{% load static %}
{% block content %}
<!DOCTYPE html>
<html>
    <head>
        <title>Sales Report</title>
        <link rel="stylesheet" href="https://cdn.jsdeliver.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
        <style>
            .table img {
                width: 60px;
                height: 60px;
                object-fit: cover;
            }
            .heading {
                background-color: #e9c7dd;
                padding: 10px;
                margin-bottom: 20px;
                text-align: center;
                font-weight: bold;
                font-size: 24px;
                
            }
        </style>
    </head>
<body>
    <div class="container mt-4">
        <div class="heading" style="margin-top: 80px;"> Sales Report </div>
        <form method="get" class="row g-2 mb-4">
            <label class="mr-2">From:</label>
            <input type="date" name="start_date"  class="form-control mr-3" required>
            <label class="mr-2">To:</label>
            <input type="date" name="end_date" class="form-control mr-3" required>
            <label class="mr-2">Product:</label>
            <select name="product_name" class="form-control mr-3">
                <option value="">All Products</option>
                {% for product in products %}
                <option value="{{ product.name }}" {% if product.name == product_name %} selected {% endif %}>{{ product.name }}</option>
                {% endfor %}
            </select><br><br>
            
            <button type="submit" class="btn btn-primary">Generate Report</button>
            <a href="{% url 'sales-report' %}" class="btn btn-outline-danger">Clear</a>
        </form>
        {% if generate %}
        <table class="table table-bordered table-striped text-center" border="1">
            <thead class="thead-dark">
                <tr>
                    <th>Product</th>
                    <th>Quantity</th>
                    <th>Date</th>
                </tr>
            </thead>
            <tbody>
            {% for order in orders %}
                <tr>
                    <td>{{ order.product.name }}</td>
                    
                    <td>1</td>
                    <td>{{ order.order_date | date:"F d, Y" }}</td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="4" class="text-center">No Sales Found In This Date Range.</td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
        {% endif %}
    </div>
</body>
</html>
{% endblock content %}