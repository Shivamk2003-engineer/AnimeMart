{% extends 'ecom/customer_base.html' %}
{% load static %}

{% block content %}
<style media="screen">
  .success-page{
  max-width:300px;
  display:block;
  margin: 0 auto;
  text-align: center;
      position: relative;
    top: 50%;
    transform: perspective(1px) translateY(50%)
}
.success-page img{
  max-width:62px;
  display: block;
  margin: 0 auto;
}

.btn-view-orders{
  display: block;
  border:1px solid #47c7c5;
  width:100px;
  margin: 0 auto;
  margin-top: 45px;
  padding: 10px;
  color:#fff;
  background-color:#47c7c5;
  text-decoration: none;
  margin-bottom: 20px;
}
h2{
  /* color:#0014ff; */
    margin-top: 25px;

}
a{
  text-decoration: none;
}
</style>
<div class="success-page" style="top:auto;">
  <img  src="{% static 'images/success.png'%}" class="center" alt="GIF" />
  <audio autoplay>
    <source src="/static/payment_success.mp3" type="audio/mpeg">
    
    <h2>Payment Successful !</h2>
    <p>We are delighted to inform you that we received your payments.</p>
  </audio>
  <br>
  <br>
  <a style="text-decoration:none" href="/send-feedback">Feedback</a>
  <a style="text-decoration:none;" href="/my-order" class="btn btn-success btn-lg">View Orders/Track Orders</a>
  <a style="text-decoration:none;" href="/customer-home">Continue Shopping</a>
</div>
<br><br><br><br>
<br><br><br><br>
{% endblock content %}
<!--Feedback modal-->
<div id="feedackModal" class="modalfade" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Hey {{ user.username }}! Please Give A Ratings</h5>
        <button type="button" class="close" data-dimiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <div class="modal-body">
          <form id="feedbackform" method="post" action="{% url 'feedback-sent' order.id %}">
            {% csrf_token %}
            <label for="rating">Rate Your Experience:</label>
            <select name="rating" id="rating">
              <option value="1">★ ☆ ☆ ☆ ☆</option>
              <option value="2">★ ★ ☆ ☆ ☆</option>
              <option value="3">★ ★ ★ ☆ ☆</option>
              <option value="4">★ ★ ★ ★ ☆</option>
              <option value="5">★ ★ ★ ★ ★</option>
            </select>
            <label for="comment">Comment</label>
            <textarea name="comment" id="comment"></textarea>
            <button type="submit" class="btn btn-primary">Submit</button>
          </form>
        </div>
      </div>
    </div>
  </div>
  {% if not feedback_exists %}
  <script>
    document.addEventListener("DOMContentLoaded",function(){
      var feedackModal=new bootstrap.Modal(document.getElementById("feedbackModal"),{});
      feedackModal.show();
    });
    </script>
    {% endif %}
</div>